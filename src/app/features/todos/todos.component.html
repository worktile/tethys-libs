<thy-content-main>
  <div class="content-main-header d-flex">
    <div class="flex-grow-1">
      <thy-input-search
        name="search"
        [thySize]="''"
        placeholder="搜索任务(按Enter搜索)"
        (keydown.enter)="search()"
        [thySearchFocus]="true"
        [(ngModel)]="searchText"
      ></thy-input-search>
    </div>
    <!-- <thy-space>
        <button *thySpaceItem (click)="openAddUser()" thyIcon="plus" thyButton="primary">新建用户</button>
        <button *thySpaceItem thyButton="outline-default">导出用户</button>
      </thy-space> -->
  </div>
  <div class="content-main-body">
    <thy-table
      [thyLoadingDone]="fetchTodos.loadingDone()"
      [thyModel]="todosStore.state().entities"
      [thyTheme]="'bordered'"
      thyRowKey="id"
      [thyHoverDisplayOperation]="false"
      (thyOnRowClick)="onRowClick($event)"
      [thyWholeRowSelect]="true"
      [thyPageIndex]="todosStore.state().pagination?.pageIndex!"
      [thyPageSize]="todosStore.state().pagination?.pageSize!"
      [thyPageTotal]="todosStore.state().pagination?.count!"
      [thyShowTotal]="true"
    >
      <thy-table-column thyTitle="编号" thyModelKey="id"></thy-table-column>
      <thy-table-column thyTitle="标题" thyModelKey="title"></thy-table-column>
      <thy-table-column thyTitle="状态" thyModelKey="completed" thyHeaderClassName="text-center"></thy-table-column>
    </thy-table>
  </div>
</thy-content-main>
